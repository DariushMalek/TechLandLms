<div class="card card-custom gutter-b">
    <div class="card-header">
        <div class="card-title">
            <h3 class="card-label" style="color: #1a41ad;">مشخصات کاربر</h3>
        </div>
    </div>
    <div class="card-body">
        <!--begin: Wizard -->
        <div #wizard
             class="wizard wizard-2"
             id="kt_wizard_v2"
             data-wizard-state="step-first">
            <div class="wizard-nav border-right px-8 px-lg-10">
                <!--begin: Form Wizard Nav -->
                <div class="wizard-steps">
                    <a class="wizard-step"
                       href="javascript:;"
                       data-wizard-type="step"
                       data-wizard-state="current">
                        <div class="wizard-wrapper">
                            <div class="wizard-icon">
                                <span class="svg-icon svg-icon-3x"
                                      [inlineSVG]="'./assets/media/svg/icons/General/User.svg'"></span>
                            </div>
                            <div class="wizard-label">
                                <div class="wizard-title" id="wizard-title">مشخصات</div>
                                <div class="wizard-desc">جزئیات مشخصات کاربران</div>
                            </div>
                        </div>
                    </a>
                    <a class="wizard-step" href="javascript:;" data-wizard-type="step">
                        <div class="wizard-wrapper">
                            <div class="wizard-icon">
                                <span class="svg-icon svg-icon-3x"
                                      [inlineSVG]="'./assets/media/svg/icons/Map/Compass.svg'"></span>
                            </div>
                            <div class="wizard-label">
                                <div class="wizard-title"  id="wizard-title">تصویر پروفایل</div>
                                <div class="wizard-desc">اضافه یا تغییر تصویر پروفایل</div>
                            </div>
                        </div>
                    </a>
                    <a class="wizard-step" href="javascript:;" data-wizard-type="step">
                        <div class="wizard-wrapper">
                            <div class="wizard-icon">
                                <span class="svg-icon svg-icon-3x"
                                      [inlineSVG]="
                    './assets/media/svg/icons/General/Thunder-move.svg'
                  "></span>
                            </div>
                            <div class="wizard-label">
                                <div class="wizard-title"  id="wizard-title">اطلاعات کاربری</div>
                                <div class="wizard-desc">جزئیات اطلاعات کاربری</div>
                            </div>
                        </div>
                    </a>
                    <a class="wizard-step" href="javascript:;" data-wizard-type="step">
                        <div class="wizard-wrapper">
                            <div class="wizard-icon">
                                <span class="svg-icon svg-icon-3x"
                                      [inlineSVG]="'./assets/media/svg/icons/General/Like.svg'"></span>
                            </div>
                            <div class="wizard-label">
                                <div class="wizard-title"  id="wizard-title">اطلاعات تکمیلی کاربر</div>
                                <div class="wizard-desc">تکمیل و ثبت اطلاعات</div>
                            </div>
                        </div>
                    </a>
                </div>
                <!--end: Form Wizard Nav -->
            </div>
            <div class="wizard-body py-8 px-8 px-lg-10">
                <!--begin: Wizard Form-->
                <div class="row">
                    <div class="offset-xxl-2 col-xxl-8">
                        <ng-container *ngIf="errorMessagePhoneNumber">
                            <div class="mb-10 alert alert-custom alert-light-danger alert-dismissible">
                                <div class="alert-text">{{ errorMessagePhoneNumber }}</div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="errorMessageEmail">
                            <div class="mb-10 alert alert-custom alert-light-danger alert-dismissible">
                                <div class="alert-text">{{ errorMessageEmail }}</div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="errorMessageUserName">
                            <div class="mb-10 alert alert-custom alert-light-danger alert-dismissible">
                                <div class="alert-text">{{ errorMessageUserName }}</div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="errorMessagePersonalCode">
                            <div class="mb-10 alert alert-custom alert-light-danger alert-dismissible">
                                <div class="alert-text">{{ errorMessagePersonalCode }}</div>
                            </div>
                        </ng-container>
                        <!--begin: Form Wizard Form-->
                        <form class="form" id="kt_form"
                              [formGroup]="formGroup">
                            <!--begin: Form Wizard Step 1-->
                            <div class="pb-5"
                                 data-wizard-type="step-content"
                                 data-wizard-state="current">
                                <h4 class="mb-10 font-weight-bold" style="color: #1a41ad;">
                                    ورود مشخصات کاربر
                                </h4>
                                <div class="kt-form__section kt-form__section--first">
                                    <div class="kt-wizard-v2__form">
                                        <div class="form-group">
                                            <label>نام</label>
                                            <input type="text"
                                                   class="form-control"
                                                   name="firstName"
                                                   placeholder="نام"
                                                   formControlName="firstName"
                                                   [(ngModel)]="appUser.firstName"
                                                   [class.is-invalid]="isControlInvalid('firstName')"
                                                   [class.is-valid]="isControlValid('firstName')" />
                                            <div class="feedback" *ngIf="!isControlTouched('firstName')" style="color: #B5C3D9">
                                                لطفا نام کاربر را وارد نمائید
                                            </div>
                                            <div class="valid-feedback" *ngIf="isControlValid('firstName')">
                                                نام صحیح می باشد
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('required', 'firstName')">
                                                نام اجباری است
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('minlength', 'firstName')">
                                                حداقل شامل 2 کاراکتر
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('maxLength', 'firstName')">
                                                حداکثر شامل 40 کاراکتر
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label>نام خانوادگی</label>
                                            <input type="text"
                                                   class="form-control"
                                                   name="lastName"
                                                   placeholder="نام خانوادگی"
                                                   formControlName="lastName"
                                                   [(ngModel)]="appUser.lastName"
                                                   [class.is-invalid]="isControlInvalid('lastName')"
                                                   [class.is-valid]="isControlValid('lastName')" />
                                            <div class="feedback" *ngIf="!isControlTouched('lastName')" style="color: #B5C3D9">
                                                لطفا نام خانوادگی کاربر را وارد نمائید
                                            </div>
                                            <div class="valid-feedback" *ngIf="isControlValid('lastName')">
                                                نام خانوادگی صحیح می باشد
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('required', 'lastName')">
                                                نام خانوادگی اجباری است
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('minlength', 'lastName')">
                                                حداقل شامل 2 کاراکتر
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('maxLength', 'lastName')">
                                                حداکثر شامل 40 کاراکتر
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-xl-6">
                                                <div class="form-group">
                                                    <label>شماره همراه</label>
                                                    <input type="tel"
                                                           class="form-control"
                                                           name="mobile"
                                                           placeholder="به طور مثال 09123456789"
                                                           formControlName="mobile"
                                                           [(ngModel)]="appUser.mobile"
                                                           [class.is-invalid]="isControlInvalid('mobile')"
                                                           [class.is-valid]="isControlValid('mobile')" />
                                                    <div class="feedback" *ngIf="!isControlTouched('mobile')" style="color: #B5C3D9">
                                                        لطفا شماره همراه را وارد نمائید
                                                    </div>
                                                    <div class="valid-feedback" *ngIf="isControlValid('mobile')">
                                                        شماره همراه صحیح می باشد
                                                    </div>
                                                    <div class="invalid-feedback"
                                                         *ngIf="controlHasError('required', 'mobile')">
                                                        شماره همراه اجباری است
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6">
                                                <div class="form-group">
                                                    <label>ایمیل</label>
                                                    <input type="email"
                                                           class="form-control"
                                                           name="email"
                                                           placeholder="به طور مثال Info@gmail.com"
                                                           formControlName="email"
                                                           [(ngModel)]="appUser.email"
                                                           [class.is-invalid]="isControlInvalid('email')"
                                                           [class.is-valid]="isControlValid('email')" />
                                                    <div class="feedback" *ngIf="!isControlTouched('email')" style="color: #B5C3D9">
                                                        لطفا ایمیل را وارد نمائید
                                                    </div>
                                                    <div class="valid-feedback" *ngIf="isControlValid('email')">
                                                        ایمیل صحیح می باشد
                                                    </div>
                                                    <div class="invalid-feedback"
                                                         *ngIf="controlHasError('required', 'email')">
                                                        ایمیل اجباری است
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-xl-6">
                                                <form class="form-inline">
                                                    <label> تاریخ تولد</label>
                                                    <div class="input-group">
                                                        <dp-date-picker dir="rtl"
                                                                        [(ngModel)]="birthDateObject"
                                                                        mode="daytime"
                                                                        placeholder="تاریخ تولد"
                                                                        id="birthPersianDate"
                                                                        name="birthPersianDate"
                                                                        theme="dp-material"
                                                                        ngModel
                                                                        required>
                                                        </dp-date-picker>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end: Form Wizard Step 1-->
                            <!--begin: Form Wizard Step 2-->
                            <div class="pb-5" data-wizard-type="step-content">
                                <h4 class="mb-10 font-weight-bold text-dark">
                                    تصویر پروفایل کاربر
                                </h4>
                                <div class="form-group row">
                                    <label class="col-xl-3 col-lg-3 col-form-label">تصویر کاربر</label>
                                    <div class="col-lg-9 col-xl-6">
                                        <div class="image-input image-input-outline"
                                             id="kt_profile_avatar"
                                             [style.backgroundImage]="'url(./assets/media/users/blank.png)'">
                                            <div class="image-input-wrapper">
                                                <img *ngIf="url" src={{url}} width="120" height="120">
                                            </div>
                                            <label class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                                                   data-action="change"
                                                   data-toggle="tooltip"
                                                   title=""
                                                   data-original-title="Change avatar">
                                                <i class="fa fa-pen icon-sm text-muted"></i>
                                                <input type="file" name="userImage" #file
                                                       formControlName="userImage"
                                                       accept=".png, .jpg, .jpeg"
                                                       (change)="onFileChanged($event)" />
                                                <input type="hidden" name="userImage_remove" />
                                            </label>
                                            <span class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
                                                  data-action="cancel" data-toggle="tooltip" title="" data-original-title="Cancel avatar">
                                                <i class="ki ki-bold-close icon-xs text-muted"></i>
                                            </span>
                                            <!--<span *ngIf="user.pic"
          class="btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow"
          (click)="deletePic()"
          data-action="remove" data-toggle="tooltip" title="" data-original-title="Remove avatar">
        <i class="ki ki-bold-close icon-xs text-muted"></i>
    </span>-->
                                        </div>
                                        <span class="form-text text-muted">پسوندهای قابل قبول: png, jpg, jpeg.</span>
                                    </div>
                                </div>
                            </div>
                            <!--end: Form Wizard Step 2-->
                            <!--begin: Form Wizard Step 3-->
                            <div class="pb-5" data-wizard-type="step-content">
                                <h4 class="mb-10 font-weight-bold text-dark">
                                    اطلاعات کاربری
                                </h4>
                                <div class="col-xl-6">
                                    <div class="form-group">
                                        <label>نام کاربری</label>
                                        <input type="text"
                                               class="form-control"
                                               name="userName"
                                               placeholder="نام کاربری"
                                               formControlName="userName"
                                               [(ngModel)]="appUser.userName"
                                               [class.is-invalid]="isControlInvalid('userName')"
                                               [class.is-valid]="isControlValid('userName')" />
                                        <div class="feedback" *ngIf="!isControlTouched('userName')" style="color: #B5C3D9">
                                            لطفا نام کاربری را وارد نمائید
                                        </div>
                                        <div class="valid-feedback" *ngIf="isControlValid('userName')">
                                            نام کاربری صحیح می باشد
                                        </div>
                                        <div class="invalid-feedback"
                                             *ngIf="controlHasError('required', 'userName')">
                                            نام کاربری اجباری است
                                        </div>
                                        <div class="invalid-feedback"
                                             *ngIf="controlHasError('minlength', 'userName')">
                                            حداقل شامل 4 کاراکتر
                                        </div>
                                        <div class="invalid-feedback"
                                             *ngIf="controlHasError('maxLength', 'userName')">
                                            حداکثر شامل 20 کاراکتر
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-group">
                                        <label>رمزعبور</label>
                                        <input type="text"
                                               class="form-control"
                                               name="pass"
                                               formControlName="pass"
                                               [(ngModel)]="appUser.pass"
                                               [class.is-invalid]="isControlInvalid('pass')"
                                               [class.is-valid]="isControlValid('pass')" />
                                        <div class="feedback" *ngIf="!isControlTouched('pass')" style="color: #B5C3D9">
                                            لطفا رمزعبور را وارد نمائید
                                        </div>
                                        <div class="valid-feedback" *ngIf="isControlValid('pass')">
                                            رمزعبور صحیح می باشد
                                        </div>
                                        <div class="invalid-feedback"
                                             *ngIf="controlHasError('required', 'pass')">
                                            رمزعبور اجباری است
                                        </div>
                                        <div class="invalid-feedback"
                                             *ngIf="controlHasError('minlength', 'pass')">
                                            حداقل شامل 8 کاراکتر
                                        </div>
                                        <div class="invalid-feedback"
                                             *ngIf="controlHasError('maxLength', 'pass')">
                                            حداکثر شامل 20 کاراکتر
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <label>وضعیت</label>
                                    <select class="form-control form-control-lg form-control-solid"
                                            name="isActive"
                                            [(ngModel)]="appUser.isActive"
                                            formControlName="isActive">
                                        <option>بدون مقدار</option>
                                        <option [ngValue]="true">فعال</option>
                                        <option [ngValue]="false">غیرفعال</option>
                                    </select>
                                </div>
                                <div class="col-lg-6">
                                    <label>ادمین است؟</label>
                                    <select class="form-control form-control-lg form-control-solid"
                                            name="isAdmin"
                                            [(ngModel)]="appUser.isAdmin"
                                            formControlName="isAdmin">
                                        <option>بدون مقدار</option>
                                        <option [ngValue]="true">بلی</option>
                                        <option [ngValue]="false">خیر</option>
                                    </select>
                                </div>
                            </div>
                            <!--end: Form Wizard Step 3-->
                            <!--begin: Form Wizard Step 4-->
                            <div class="pb-5" data-wizard-type="step-content">
                                <h4 class="mb-10 font-weight-bold text-dark">
                                    اطلاعات تکمیلی کاربر
                                </h4>
                                <div class="row">
                                    <div class="col-xl-6">
                                        <div class="form-group">
                                            <label>شماره تماس</label>
                                            <input type="text"
                                                   class="form-control"
                                                   name="phoneNumber"
                                                   [(ngModel)]="appUser.phoneNumber"
                                                   formControlName="phoneNumber"
                                                   placeholder="شماره تماس" />
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group">
                                            <label>کدملی</label>
                                            <input type="text"
                                                   class="form-control"
                                                   name="personalCode"
                                                   placeholder="کدملی"
                                                   formControlName="personalCode"
                                                   [(ngModel)]="appUser.personalCode"
                                                   [class.is-invalid]="isControlInvalid('personalCode')"
                                                   [class.is-valid]="isControlValid('personalCode')" />
                                            <div class="feedback" *ngIf="!isControlTouched('personalCode')" style="color: #B5C3D9">
                                                لطفا کدملی را وارد نمائید
                                            </div>
                                            <div class="invalid-feedback"
                                                 *ngIf="controlHasError('required', 'personalCode')">
                                                کدملی اجباری است
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xl-6">
                                        <div class="form-group">
                                            <label>عنوان شغلی</label>
                                            <input type="text"
                                                   class="form-control"
                                                   name="jobTitle"
                                                   placeholder="عنوان شغلی"
                                                   formControlName="jobTitle"
                                                   [(ngModel)]="appUser.jobTitle" />
                                            <span class="form-text text-muted">لطفا عنوان شغلی را وارد نمائید</span>
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group">
                                            <label>شهر</label>
                                            <select name="cityId"
                                                    class="form-control"
                                                    [(ngModel)]="appUser.cityId"
                                                    formControlName="cityId">
                                                <option [value]="" selected>(بدون مقدار)</option>
                                                <option [value]="item.id" *ngFor="let item of cityList;">{{item.cityName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xl-6">
                                        <div class="form-group">
                                            <label>تحصیلات</label>
                                            <select name="educationDegreeId"
                                                    class="form-control"
                                                    [(ngModel)]="appUser.educationDegreeId"
                                                    formControlName="educationDegreeId">
                                                <option [value]="" selected>(بدون مقدار)</option>
                                                <option [value]="item.id" *ngFor="let item of educationDegreeList;">{{item.constantTitle}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-xl-6">
                                        <div class="form-group">
                                            <label>جنسیت</label>
                                            <select name="genderTypeId"
                                                    [(ngModel)]="appUser.genderTypeId"
                                                    class="form-control"
                                                    formControlName="genderTypeId">
                                                <option [value]="" selected>(بدون مقدار)</option>
                                                <option [value]="item.id" *ngFor="let item of genderTypeList;">{{item.constantTitle}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end: Form Wizard Step 4-->
                            <!--begin: Form Actions -->
                            <div class="d-flex justify-content-between border-top pt-10">
                                <div class="mr-2">
                                    <div class="btn btn-light-primary font-weight-bold text-uppercase px-9 py-4"
                                         data-wizard-type="action-prev">
                                        قبلی
                                    </div>
                                </div>
                                <div>
                                    <div (click)="onSubmit()"
                                         class="btn btn-success font-weight-bold text-uppercase px-9 py-4"
                                         data-wizard-type="action-submit">
                                        ثبت
                                    </div>
                                    <div class="btn btn-primary font-weight-bold text-uppercase px-9 py-4"
                                         data-wizard-type="action-next">
                                        بعدی
                                    </div>
                                </div>
                            </div>
                            <!--end: Form Actions -->
                        </form>
                        <!--end: Form Wizard Form-->
                    </div>
                </div>
            </div>
        </div>
        <!--end: Wizard -->
    </div>
</div>
